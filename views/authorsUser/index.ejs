<%- include('../partials/header2.ejs') %>

<h2 class="page-header">Search Author</h2>
<form action="/authors/byuser" method="GET">

    <div class="form-row">
        <div class="form-item">
            <label>Name</label>
            <input type="text" name="name" value="<%= searchOptions.name %>">
        </div>
    </div>
    <div class="form-row form-row-end">
        <button class="btn btn-primary" type="submit">Search</button>
    </div>
</form>
<br>
<% authors.forEach(author => { %>
    <div><%= author.name %></div>

    <div class="btn-row">
        <a class="btn btn-primary" href="/authors/user/<%= author.id %>">View</a>
    </div>
<% }) %>
<!-- to run this code on the server -->
<!-- fetch all element from authors table -->
<!-- the authors was populated from the route server 
    by using a loop and kept inside a new var called authors -->